<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html">
   
    
    <h:head>
        <title>Formulario RolesUsuario</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <style>
            #formRolUser{
                margin: 0 auto;
                text-align: center;
                width: 1000px;                    
            }
        </style>
    </h:head>
    <h:body style="background-color:#8AA4E8;">
         <h:form id="formRolUser" >
            <p:panel header="Ingreso Rloes Usuario"  >
                <p:growl id="messages" showDetail="true" />
                <h:graphicImage name="images/roles.jpg" width="200" />
                <h:panelGrid columns="6" >                    
                    <p:outputLabel style="margin-right:1px;font-weight:bold">Nombre Usuario </p:outputLabel>
                    <p:inputText id="nombreuse" value="#{rolesuserview.nombreRoUser}"></p:inputText>
                    <p:outputLabel style="margin-right:1px;font-weight:bold">Tipo Menu</p:outputLabel>
                    <p:selectOneMenu id="console" value="#{rolesuserview.tipo}" style="width:100px">
                                <f:selectItem itemLabel="Seleccione " itemValue="" />
                                <f:selectItem itemLabel="I" itemValue="I" />
                                <f:selectItem itemLabel="S" itemValue="S" />
                    </p:selectOneMenu>
                    <p:outputLabel style="margin-right:1px;font-weight:bold">TipoUsuario</p:outputLabel>
                    <p:selectOneMenu  id="txtTipous" value="#{rolesuserview.tipoUsuario}"  >
                        <f:selectItems value="#{usuarioview.listarUsuario}" var="txtTipous"
                                       itemLabel="#{txtTipous.tipoUsuario}" itemValue="#{txtTipous.tipoUsuario}" />  
                    </p:selectOneMenu> 
                    <p:outputLabel style="margin-right:1px;font-weight:bold"> Url: </p:outputLabel>
                             <p:selectOneMenu id="url" value="#{rolesuserview.url}" style="width:200px">
                                <f:selectItem itemLabel="Seleccione " itemValue="" />
                                <f:selectItem itemLabel="Usuario.xhtml" itemValue="Usuario.xhtml" />
                                <f:selectItem itemLabel="RolesUser.xhtml" itemValue="RolesUser.xhtml" />
                                <f:selectItem itemLabel="Cliente.xhtml" itemValue="Cliente.xhtml" />
                                <f:selectItem itemLabel="Tecnico.xhtml" itemValue="Tecnico.xhtml" />
                                <f:selectItem itemLabel="VisitasTecnicas.xhtml" itemValue="VisitasTecnicas.xhtml" />
                                <f:selectItem itemLabel="ListaVisitaTecnicas.xhtml" itemValue="ListaVisitaTecnicas.xhtml" />
                                <f:selectItem itemLabel="Reporte.xhtml" itemValue="Reporte.xhtml" />
                                <f:selectItem itemLabel="ReporteRealizados.xhtml" itemValue="ReporteRealizados.xhtml" />
                            </p:selectOneMenu> 
                    <p:outputLabel style="margin-right:1px;font-weight:bold">Estado</p:outputLabel>
                    <p:selectOneMenu id="console1" value="#{rolesuserview.estado}" style="width:200px">
                                <f:selectItem itemLabel="Seleccione" itemValue="" />
                                <f:selectItem itemLabel="activo" itemValue="activo" />
                                <f:selectItem itemLabel="desactivo" itemValue="desactivo" />
                    </p:selectOneMenu>
                    <p:outputLabel style="margin-right:1px;font-weight:bold"> subroles </p:outputLabel>
                    <p:selectOneMenu id="console2" value="#{rolesuserview.subroles}" style="width:100px">
                                <f:selectItem itemLabel="Seleccione" itemValue="" />
                                <f:selectItem itemLabel="1" itemValue="1" />
                                <f:selectItem itemLabel="2" itemValue="2" />
                                <f:selectItem itemLabel="3" itemValue="3" />
                    </p:selectOneMenu>
                 </h:panelGrid>
                    
                <p:separator></p:separator>
                <p:commandButton style="font-size:16px" value="GUARDAR"  icon="fa fa-save" action="#{rolesuserview.insertarRolesUsuario()}" update=":formRolUser:listaRolesUser"></p:commandButton>
                
                 <p:commandButton id="btRegresarMenuprincipal" 
                                     value="Regresar" action="/protegido/principal" 
                                     icon="pi pi-arrow-left">
                </p:commandButton> 
            </p:panel>
                         
             <h:panelGrid >
                 
                            <p:dataTable id="listaRolesUser" var="lisRolUs" widgetVar="listaRolesUsuer"
                                         rows="10" paginator="true" paginatorPosition="bottom"
                                         scrollable="true"
                                         scrollRows="20"
                                         scrollHeight="350"
                                         value="#{rolesuserview.listaroles}"> 
                                                       
                                <p:column  style="font-size:14px" headerText="rolusid" filterMatchMode="contains">
                                    <h:outputText id="txtRolusid" value="#{lisRolUs.idRolesUsuario}" ></h:outputText>
                                </p:column>
                                
                                <p:column style="font-size:14px" headerText="Nombre" filterBy="#{lisRolUs.nombreRoUser}">
                                     <h:outputText  id="listNombre" value="#{lisRolUs.nombreRoUser}"  ></h:outputText>
                                </p:column>
                                <p:column style="font-size:14px" headerText="tiporol" filterMatchMode="contains">
                                    <h:outputText id="listtiporol" value="#{lisRolUs.tipo}"></h:outputText>
                                </p:column>
                                
                                <p:column style="font-size:14px" headerText="tipoUser" filterBy="#{lisRolUs.tipoUsuario}">
                                    <h:outputText id="listtipouser" value="#{lisRolUs.tipoUsuario}"></h:outputText>
                                </p:column> 
                                
                                <p:column style="font-size:14px" headerText="url" filterMatchMode="contains">
                                    <h:outputText id="listurl" value="#{lisRolUs.url}"></h:outputText>
                                </p:column> 
                                
                                <p:column style="font-size:14px" headerText="estado" filterMatchMode="contains">
                                    <h:outputText id="listestado" value="#{lisRolUs.estado}"></h:outputText>
                                </p:column> 
                                             
                                <p:column headerText="subroles" filterMatchMode="contains">
                                    <h:outputText id="listsubroles" value="#{lisRolUs.subroles}"></h:outputText>
                                </p:column> 
                                
                                <p:column >
                                          <p:commandButton style="font-size:14px" value="Update" 
                                                 icon="fa fa-pencil-square-o" 
                                                 process="@this"
                                                 actionListener="#{rolesuserview.antActualizar(lisRolUs)}" 
                                                 onclick="PF('wdialog').show();"     
                                                 update=":formRolUser:txtnom :formRolUser:txttipo :formRolUser:txttipouser :formRolUser:txturl :formRolUser:txtestado :formRolUser:txtsubroles">
                                            </p:commandButton>
                                </p:column>
                                
                                <p:column >
                                    <p:commandButton style="font-size:14px" value="Delete" icon="fa fa-trash-o"  
                                                 process="@this"
                                                 actionListener="#{rolesuserview.eliminar(lisRolUs)}"
                                                 update ="listaRolesUser">
                                    </p:commandButton>
                                </p:column>
                                
                            </p:dataTable>                            
                        </h:panelGrid>
             
                   <p:dialog id="dtRolesUser" widgetVar="wdialog" header="Actualizacion de Registro"
                              >
                        <h:panelGrid columns="2">
                            <p:outputLabel style="margin-right:1px;font-weight:bold"> Nombre User: </p:outputLabel>
                            <p:inputText style="font-size:14px" id="txtnom" size="30" value="#{rolesuserview.nuevoRolesUsuarioAct.nombreRoUser}"></p:inputText>
                            <p:outputLabel style="margin-right:1px;font-weight:bold"> Tipo Menu: </p:outputLabel>
                            <p:selectOneMenu id="txttipo" value="#{rolesuserview.nuevoRolesUsuarioAct.tipo}" style="width:200px">
                                <f:selectItem itemLabel="Seleccione " itemValue="" />
                                <f:selectItem itemLabel="I" itemValue="I" />
                                <f:selectItem itemLabel="S" itemValue="S" />
                             </p:selectOneMenu> 
                            <p:outputLabel style="margin-right:1px;font-weight:bold"> TipoUser: </p:outputLabel>
                             <p:selectOneMenu  id="txttipouser" value="#{rolesuserview.nuevoRolesUsuarioAct.tipoUsuario}"  >
                                     <f:selectItems value="#{usuarioview.listarUsuario}" var="txttipouser"
                                       itemLabel="#{txttipouser.tipoUsuario}" itemValue="#{txttipouser.tipoUsuario}" />  
                            </p:selectOneMenu> 
                             <p:outputLabel style="margin-right:1px;font-weight:bold" > Url: </p:outputLabel>
                             <p:selectOneMenu id="txturl" value="#{rolesuserview.nuevoRolesUsuarioAct.url}" style="width:200px">
                                <f:selectItem itemLabel="Seleccione " itemValue="" />
                                <f:selectItem itemLabel="Usuario.xhtml" itemValue="Usuario.xhtml" />
                                <f:selectItem itemLabel="RolesUser.xhtml" itemValue="RolesUser.xhtml" />
                                <f:selectItem itemLabel="Cliente.xhtml" itemValue="Cliente.xhtml" />
                                <f:selectItem itemLabel="Tecnico.xhtml" itemValue="Tecnico.xhtml" />
                                <f:selectItem itemLabel="VisitasTecnicas.xhtml" itemValue="VisitasTecnicas.xhtml" />
                                <f:selectItem itemLabel="ListaVisitaTecnicas.xhtml" itemValue="ListaVisitaTecnicas.xhtml" />
                                <f:selectItem itemLabel="Reporte.xhtml" itemValue="Reporte.xhtml" />
                                <f:selectItem itemLabel="ReporteRealizados.xhtml" itemValue="ReporteRealizados.xhtml" />
                            </p:selectOneMenu> 
                            <p:outputLabel style="margin-right:1px;font-weight:bold"> Estado: </p:outputLabel>
                            <p:selectOneMenu id="txtestado" value="#{rolesuserview.nuevoRolesUsuarioAct.estado}" style="width:200px">
                                <f:selectItem itemLabel="Seleccione" itemValue="" />
                                <f:selectItem itemLabel="activo" itemValue="activo" />
                                <f:selectItem itemLabel="desactivo" itemValue="desactivo" />
                             </p:selectOneMenu>
                             <p:outputLabel style="margin-right:1px;font-weight:bold"> subroles </p:outputLabel>
                             <p:selectOneMenu id="txtsubroles" value="#{rolesuserview.nuevoRolesUsuarioAct.subroles}" style="width:100px">
                                <f:selectItem itemLabel="Seleccione" itemValue="" />
                                <f:selectItem itemLabel="1" itemValue="1" />
                                <f:selectItem itemLabel="2" itemValue="2" />
                                <f:selectItem itemLabel="3" itemValue="3" />
                              </p:selectOneMenu>
                            <p:commandButton style="font-size:16px" value="Modificar los Datos" 
                                             icon="fa fa-save" 
                                             process="@this txtnom  txttipo txttipouser txturl txtestado txtsubroles"                                             
                                             action="#{rolesuserview.actualizarRolesUsuario()}"
                                             update="listaRolesUser">                                             
                            </p:commandButton>
                           
                        </h:panelGrid>
                    </p:dialog> 
             
        </h:form> 
        
        
    </h:body>
    
    
</html>

